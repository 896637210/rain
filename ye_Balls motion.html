<!DOCTYPE html>
<!-- saved from url=(0032)http://192.168.2.214/balls2.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>小球动画 Balls motion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            width: 100vw;
            height: 100vh;
            background-color: #666;
        }

        .ball {
            width: 50px;
            height: 50px;
            border-radius: 0 100% 0 100%/ 0 100% 0 100%;
            position: fixed;
            background: #39c;
            transition: all 1s linear;
        }

        .ball:nth-child(even) {
            animation: st 1s infinite linear;
        }

        .ball:nth-child(odd) {
            animation: nt 1s infinite linear;
        }

        @keyframes st {
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes nt {
            100% {
                transform: rotate(-360deg);
            }
        }
    </style>
</head>

<body>

    <script>
        function $(str) {
            var obj = document.querySelectorAll(str);
            return (obj.length == 1) ? obj[0] : obj;
        }
        // 产生 a ~ b 随机数
        function rand(a, b) {
            return Math.round(Math.random() * Math.abs(b - a) + Math.min(a, b));
        }
        var bw = window.innerWidth;
        var bh = window.innerHeight;
        function getInfo() {
            bw = window.innerWidth;
            bh = window.innerHeight;
            // console.log(bw + "x" + bh);
        }
        window.onresize = function () {
            getInfo();
        };
        var max = 100;
        // var str = "";
        // for (var i = 0; i < max; i++) {
        //     str += '<div class="ball"></div>';
        // }
        // $('body').innerHTML += str;
        $('body').innerHTML += (new Array(max + 1)).join('<div class="ball"></div>');
        var objs = $('.ball');
        console.log("objs =", objs);
        var balls = [];
        for (var i = 0; i < objs.length; i++) {
            var r = rand(10, 50);
            balls.push({
                obj: objs[i],
                d: r,
                x: rand(0, bw - r),
                y: rand(0, bh - r),
                dx: rand(0, 1) ? 1 : -1,
                dy: rand(0, 1) ? 1 : -1,
                sx: rand(50, 200),
                sy: rand(50, 200),
                bg: 'rgba(' + rand(102, 255) + ', ' + rand(102, 255) + ', ' + rand(102, 255) + ', ' + (rand(30, 90) / 100) + ')'
            });
        }
        console.log("balls =", balls);
        function move() {
            balls.map(function (el) {
                el.x += el.dx * el.sx;
                el.y += el.dy * el.sy;
                if (el.x <= 0 || el.x >= bw - el.d) {
                    el.dx = -el.dx;
                }
                if (el.y <= 0 || el.y >= bh - el.d) {
                    el.dy = -el.dy;
                }
                var os = el.obj.style; // 精简代码
                os.width = el.d + 'px';
                os.height = el.d + 'px';
                os.background = el.bg;
                os.left = el.x + 'px';
                os.top = el.y + 'px';
            });
            setTimeout(move, 1000);
        }
        move();
        // $ball.style.left = x + 'px';
        // el.obj.style.left = el.x + 'px';
        // var $ball = document.querySelector('.ball');
        // var d = rand(5, 30);
        // var x = rand(0, bw - d);
        // var y = rand(0, bh - d);
        // var dx = rand(0, 1) ? 1 : -1;
        // var dy = rand(0, 1) ? 1 : -1;
        // var sx = rand(5, 15);
        // var sy = rand(5, 15);
        // // var bg = 'rgba(' + rand(102, 255) + ', ' + rand(102, 255) + ', ' + rand(102, 255) + ', ' + (rand(45, 96) / 100) + ')';
        // var bg = 'rgb(' + rand(102, 255) + ', ' + rand(102, 255) + ', ' + rand(102, 255) + ')';
        // $ball.style.width = $ball.style.height = d + 'px';
        // $ball.style.backgroundColor = bg;
        // setInterval(function () {
        //     x += dx * sx;
        //     y += dy * sy;
        //     if (x >= bw - d) {
        //         dx = -1;
        //     }
        //     if (x <= 0) {
        //         dx = 1;
        //     }
        //     if (y >= bh - d) {
        //         dy = -1;
        //     }
        //     if (y <= 0) {
        //         dy = 1;
        //     }
        //     $ball.style.left = x + 'px';
        //     $ball.style.top = y + 'px';
        //     $ball.style.width = $ball.style.height = d + 'px';
        //     $ball.style.backgroundColor = bg;
        // }, 120);
    </script><div class="ball" style="width: 31px; height: 31px; background: rgba(195, 250, 247, 0.64); left: 725px; top: 316px;"></div><div class="ball" style="width: 40px; height: 40px; background: rgba(253, 182, 169, 0.81); left: 898px; top: 495px;"></div><div class="ball" style="width: 24px; height: 24px; background: rgba(230, 113, 237, 0.54); left: 273px; top: -102px;"></div><div class="ball" style="width: 21px; height: 21px; background: rgba(219, 248, 214, 0.79); left: 93px; top: 354px;"></div><div class="ball" style="width: 46px; height: 46px; background: rgba(161, 216, 144, 0.85); left: 432px; top: 54px;"></div><div class="ball" style="width: 10px; height: 10px; background: rgba(214, 203, 179, 0.72); left: 671px; top: 222px;"></div><div class="ball" style="width: 11px; height: 11px; background: rgba(247, 214, 194, 0.82); left: 144px; top: 370px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(254, 172, 150, 0.52); left: 893px; top: 233px;"></div><div class="ball" style="width: 42px; height: 42px; background: rgba(175, 222, 186, 0.54); left: 742px; top: 467px;"></div><div class="ball" style="width: 33px; height: 33px; background: rgba(113, 185, 114, 0.31); left: 197px; top: 87px;"></div><div class="ball" style="width: 29px; height: 29px; background: rgba(208, 236, 125, 0.57); left: 291px; top: 392px;"></div><div class="ball" style="width: 48px; height: 48px; background: rgba(132, 143, 103, 0.85); left: 321px; top: 124px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(172, 176, 202, 0.46); left: 648px; top: 398px;"></div><div class="ball" style="width: 14px; height: 14px; background: rgba(157, 178, 160, 0.46); left: 60px; top: 248px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(242, 217, 136, 0.69); left: 926px; top: 229px;"></div><div class="ball" style="width: 32px; height: 32px; background: rgba(148, 241, 136, 0.43); left: 962px; top: 254px;"></div><div class="ball" style="width: 12px; height: 12px; background: rgba(153, 174, 173, 0.54); left: -114px; top: 348px;"></div><div class="ball" style="width: 30px; height: 30px; background: rgba(149, 124, 153, 0.42); left: 300px; top: -5px;"></div><div class="ball" style="width: 19px; height: 19px; background: rgba(220, 224, 228, 0.33); left: 439px; top: 404px;"></div><div class="ball" style="width: 14px; height: 14px; background: rgba(146, 254, 194, 0.51); left: 34px; top: 244px;"></div><div class="ball" style="width: 50px; height: 50px; background: rgba(231, 227, 220, 0.64); left: 1027px; top: 45px;"></div><div class="ball" style="width: 13px; height: 13px; background: rgba(250, 234, 222, 0.32); left: 339px; top: 176px;"></div><div class="ball" style="width: 25px; height: 25px; background: rgba(172, 178, 153, 0.51); left: 198px; top: 528px;"></div><div class="ball" style="width: 34px; height: 34px; background: rgba(157, 165, 168, 0.32); left: 898px; top: 106px;"></div><div class="ball" style="width: 21px; height: 21px; background: rgba(169, 243, 206, 0.53); left: 329px; top: 316px;"></div><div class="ball" style="width: 38px; height: 38px; background: rgba(173, 251, 120, 0.36); left: 129px; top: 300px;"></div><div class="ball" style="width: 21px; height: 21px; background: rgba(130, 182, 117, 0.7); left: 588px; top: -81px;"></div><div class="ball" style="width: 25px; height: 25px; background: rgba(237, 206, 200, 0.37); left: 333px; top: 225px;"></div><div class="ball" style="width: 47px; height: 47px; background: rgba(178, 105, 123, 0.6); left: 612px; top: 25px;"></div><div class="ball" style="width: 46px; height: 46px; background: rgba(126, 147, 144, 0.7); left: 729px; top: 437px;"></div><div class="ball" style="width: 43px; height: 43px; background: rgba(175, 107, 179, 0.85); left: 480px; top: 346px;"></div><div class="ball" style="width: 43px; height: 43px; background: rgba(155, 223, 178, 0.78); left: -12px; top: 279px;"></div><div class="ball" style="width: 18px; height: 18px; background: rgba(195, 245, 216, 0.59); left: 653px; top: 135px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(227, 123, 147, 0.77); left: 961px; top: 367px;"></div><div class="ball" style="width: 30px; height: 30px; background: rgba(205, 104, 217, 0.43); left: 1028px; top: 43px;"></div><div class="ball" style="width: 30px; height: 30px; background: rgba(131, 253, 151, 0.69); left: 780px; top: 293px;"></div><div class="ball" style="width: 44px; height: 44px; background: rgba(161, 173, 122, 0.38); left: 507px; top: 449px;"></div><div class="ball" style="width: 35px; height: 35px; background: rgba(238, 250, 207, 0.36); left: 506px; top: 436px;"></div><div class="ball" style="width: 45px; height: 45px; background: rgba(167, 169, 133, 0.55); left: 914px; top: -54px;"></div><div class="ball" style="width: 13px; height: 13px; background: rgba(117, 225, 219, 0.36); left: 998px; top: 586px;"></div><div class="ball" style="width: 47px; height: 47px; background: rgba(240, 174, 144, 0.76); left: 680px; top: 371px;"></div><div class="ball" style="width: 43px; height: 43px; background: rgba(167, 192, 191, 0.57); left: 1006px; top: 434px;"></div><div class="ball" style="width: 34px; height: 34px; background: rgba(139, 108, 162, 0.78); left: 799px; top: 61px;"></div><div class="ball" style="width: 30px; height: 30px; background: rgba(122, 107, 168, 0.83); left: 1042px; top: 217px;"></div><div class="ball" style="width: 32px; height: 32px; background: rgba(117, 240, 208, 0.5); left: 799px; top: 419px;"></div><div class="ball" style="width: 39px; height: 39px; background: rgba(190, 146, 247, 0.37); left: 453px; top: -67px;"></div><div class="ball" style="width: 25px; height: 25px; background: rgba(202, 247, 241, 0.57); left: 851px; top: 244px;"></div><div class="ball" style="width: 23px; height: 23px; background: rgba(114, 154, 153, 0.42); left: 712px; top: -2px;"></div><div class="ball" style="width: 40px; height: 40px; background: rgba(217, 109, 134, 0.54); left: 403px; top: 489px;"></div><div class="ball" style="width: 45px; height: 45px; background: rgba(226, 218, 144, 0.43); left: 123px; top: 559px;"></div><div class="ball" style="width: 16px; height: 16px; background: rgba(226, 192, 222, 0.82); left: 877px; top: 225px;"></div><div class="ball" style="width: 17px; height: 17px; background: rgba(142, 197, 163, 0.54); left: 1021px; top: 18px;"></div><div class="ball" style="width: 13px; height: 13px; background: rgba(184, 188, 143, 0.59); left: 451px; top: 335px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(216, 161, 187, 0.31); left: 589px; top: 100px;"></div><div class="ball" style="width: 38px; height: 38px; background: rgba(180, 176, 187, 0.68); left: 950px; top: 11px;"></div><div class="ball" style="width: 33px; height: 33px; background: rgba(229, 248, 169, 0.66); left: 1005px; top: 380px;"></div><div class="ball" style="width: 15px; height: 15px; background: rgba(239, 189, 110, 0.49); left: 290px; top: 18px;"></div><div class="ball" style="width: 24px; height: 24px; background: rgba(245, 234, 166, 0.82); left: 920px; top: 192px;"></div><div class="ball" style="width: 11px; height: 11px; background: rgba(128, 152, 244, 0.79); left: 535px; top: 353px;"></div><div class="ball" style="width: 28px; height: 28px; background: rgba(122, 231, 184, 0.41); left: 216px; top: 330px;"></div><div class="ball" style="width: 35px; height: 35px; background: rgba(139, 112, 169, 0.71); left: 391px; top: 579px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(201, 192, 134, 0.4); left: 757px; top: 47px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(207, 223, 243, 0.35); left: 840px; top: -141px;"></div><div class="ball" style="width: 14px; height: 14px; background: rgba(106, 171, 208, 0.4); left: 263px; top: 151px;"></div><div class="ball" style="width: 46px; height: 46px; background: rgba(156, 123, 142, 0.87); left: 707px; top: 463px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(175, 189, 208, 0.72); left: 744px; top: 235px;"></div><div class="ball" style="width: 15px; height: 15px; background: rgba(219, 210, 163, 0.33); left: 359px; top: -6px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(241, 122, 228, 0.86); left: 666px; top: 191px;"></div><div class="ball" style="width: 39px; height: 39px; background: rgba(225, 154, 176, 0.4); left: 68px; top: -20px;"></div><div class="ball" style="width: 12px; height: 12px; background: rgba(153, 138, 134, 0.51); left: 454px; top: 533px;"></div><div class="ball" style="width: 28px; height: 28px; background: rgba(192, 150, 227, 0.79); left: -104px; top: -13px;"></div><div class="ball" style="width: 17px; height: 17px; background: rgba(192, 164, 181, 0.44); left: 769px; top: 139px;"></div><div class="ball" style="width: 49px; height: 49px; background: rgba(253, 125, 194, 0.56); left: 286px; top: 4px;"></div><div class="ball" style="width: 37px; height: 37px; background: rgba(216, 240, 144, 0.86); left: 395px; top: 7px;"></div><div class="ball" style="width: 19px; height: 19px; background: rgba(148, 143, 194, 0.46); left: 451px; top: 484px;"></div><div class="ball" style="width: 37px; height: 37px; background: rgba(203, 206, 135, 0.51); left: 440px; top: -63px;"></div><div class="ball" style="width: 42px; height: 42px; background: rgba(251, 192, 200, 0.79); left: -67px; top: 114px;"></div><div class="ball" style="width: 35px; height: 35px; background: rgba(242, 208, 193, 0.8); left: -144px; top: 290px;"></div><div class="ball" style="width: 27px; height: 27px; background: rgba(217, 228, 241, 0.84); left: -33px; top: 157px;"></div><div class="ball" style="width: 13px; height: 13px; background: rgba(154, 115, 202, 0.32); left: 376px; top: -72px;"></div><div class="ball" style="width: 15px; height: 15px; background: rgba(124, 244, 200, 0.34); left: 71px; top: 158px;"></div><div class="ball" style="width: 10px; height: 10px; background: rgba(167, 107, 188, 0.31); left: 699px; top: 589px;"></div><div class="ball" style="width: 33px; height: 33px; background: rgba(224, 104, 243, 0.83); left: 774px; top: 262px;"></div><div class="ball" style="width: 43px; height: 43px; background: rgba(240, 242, 227, 0.56); left: 956px; top: 277px;"></div><div class="ball" style="width: 21px; height: 21px; background: rgba(222, 234, 134, 0.62); left: 467px; top: 235px;"></div><div class="ball" style="width: 27px; height: 27px; background: rgba(149, 243, 204, 0.32); left: 68px; top: 100px;"></div><div class="ball" style="width: 35px; height: 35px; background: rgba(132, 221, 186, 0.89); left: 363px; top: 415px;"></div><div class="ball" style="width: 18px; height: 18px; background: rgba(157, 179, 236, 0.4); left: 610px; top: 510px;"></div><div class="ball" style="width: 17px; height: 17px; background: rgba(201, 162, 117, 0.8); left: -28px; top: 574px;"></div><div class="ball" style="width: 35px; height: 35px; background: rgba(185, 172, 177, 0.31); left: 683px; top: 121px;"></div><div class="ball" style="width: 44px; height: 44px; background: rgba(216, 238, 106, 0.73); left: 592px; top: 67px;"></div><div class="ball" style="width: 15px; height: 15px; background: rgba(154, 110, 164, 0.72); left: 670px; top: 106px;"></div><div class="ball" style="width: 14px; height: 14px; background: rgba(173, 191, 232, 0.65); left: 460px; top: 112px;"></div><div class="ball" style="width: 40px; height: 40px; background: rgba(114, 226, 229, 0.53); left: 477px; top: 297px;"></div><div class="ball" style="width: 12px; height: 12px; background: rgba(214, 180, 169, 0.5); left: 120px; top: -134px;"></div><div class="ball" style="width: 20px; height: 20px; background: rgba(144, 192, 190, 0.88); left: 493px; top: 100px;"></div><div class="ball" style="width: 21px; height: 21px; background: rgba(214, 138, 102, 0.87); left: -88px; top: 489px;"></div><div class="ball" style="width: 27px; height: 27px; background: rgba(157, 249, 248, 0.63); left: 1106px; top: 637px;"></div><div class="ball" style="width: 32px; height: 32px; background: rgba(233, 159, 102, 0.81); left: 147px; top: 501px;"></div><div class="ball" style="width: 32px; height: 32px; background: rgba(205, 199, 133, 0.69); left: 97px; top: 342px;"></div>


</body></html>